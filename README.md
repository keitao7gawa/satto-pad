# SattoPad

「パッと見れること」に全振りした、超シンプルな macOS 用メモアプリです。見ることが主役、書くことは最短で済ませます。

- いつでも瞬間表示（メニューバー常駐 + グローバルショートカット）
- 押している間だけ表示できるオーバーレイ（KeyboardShortcuts 導入時）
- シンプルな複数行メモ + 軽いプレビュー（オーバーレイ）
- Markdown 自動保存・起動時復元（ローカルのみ）
- UI は最小限。見る→必要なら一言書く→閉じる

## 背景とコンセプト（要約）
- 意識したいこと・今の立ち位置を「すぐ見たい」。脱線を防ぎたい。
- 手が空くとキーボードを叩いてしまう、その勢いで思考が散りがち。
- だからこそ「見る」行為を最短に。Command + Shift + T で一発表示。
- 大きく読みやすい文字、軽い動作、余計な機能は足さない。
- 編集はできるが、まずは“表示”。必要なときだけ最短で書いて閉じる。

---

## 特徴（シンプルさ最優先）
- メニューバーからワンクリックでポップオーバーを開閉（ESC でも閉じる）
- グローバルショートカット（既定: Cmd + Shift + T）
  - KeyboardShortcuts 導入時は「押している間だけ」オーバーレイを表示
  - 導入していない場合はトグル表示
- オーバーレイプレビュー（デスクトップ上の軽量ウィンドウ）
  - 背景の透明度のみ変更（テキストは常に不透明で読みやすい）
  - ポップオーバー表示中はドラッグで位置を移動（左上に“ひょっこり”置ける）
- 自動保存/読み込み（Markdown）
  - 既定パス: `~/Documents/SattoPad.md`
  - 入力変更を約 1 秒デバウンスしてアトミック保存
  - 次回起動時に自動復元
  - 保存先は 3 点メニューから変更可能

## 使い方
1) まずはショートカットで“見る”（Cmd + Shift + T）
   - KeyboardShortcuts 導入時: 押している間だけオーバーレイが表示
   - 未導入時: 表示/非表示のトグル
2) 必要ならポップオーバーで“書く”（右上 3 点メニューに各種操作）
3) 閉じる（× または ESC）

- 透明度: ヘッダーのスライダーで 5%〜100% を調整（ラベルはスライダー上に中央表示）
- オーバーレイ移動: ポップオーバーを開いている間、オーバーレイ上の「Drag to move」付近をドラッグ

## 自動保存とファイル
- 既定の保存先: `~/Documents/SattoPad.md`
- 入力は約 1 秒後に自動保存（連続タイプ時の無駄書き込みを抑制）
- アプリ起動時に前回内容を自動復元
- 3 点メニュー
  - 保存先を選択…（フォルダ選択時は `SattoPad.md` を自動付与）
  - ファイルから再読み込み（未保存の変更がある場合は確認ダイアログ）
- 外部変更の検知
  - 未保存の変更がなければ自動リロード
  - 未保存がある場合は警告のみ表示

## ショートカット
- 既定: Cmd + Shift + T（表示/非表示）
- ホットキー設定
  - SPM の KeyboardShortcuts を導入済みの環境では、ヘッダーにレコーダーを表示（幅が狭い場合は 3 点メニューに格納）
  - 未導入の場合は Carbon のデフォルトホットキーで動作

## ビルド/実行
- macOS 12+ / Xcode 15 以降を推奨（SwiftUI）
- `SattoPad.xcodeproj` を Xcode で開き、Run
- メニューバーにアイコンが出現（Dock 非表示）。クリックでポップオーバーが開きます

## 設計メモ
- 保存はバックグラウンドキューで実行、UI 更新はメインスレッド
- 書き込みはアトミック、UTF-8（BOM 無し）
- サンドボックス配布を想定し、保存先はセキュリティスコープ付きブックマークで保持（非サンドボックスでも動作）

## 既知の制限 / 今後
- 外部編集の自動マージは非対応（必要に応じて「再読み込み」を実行）
- Markdown の高度なプレビュー（見出し/箇条書き等の拡張表現は最低限）
- 今後の予定
  - UI の磨き込み（余白/アニメーション/アクセシビリティ）
  - プレビューの強化（Markdown レンダリングの拡張）

## プライバシー
- すべてローカル保存。クラウドや外部送信は行いません。

---

シンプルに、すぐ書ける。SattoPad は「取り出す/書く/閉じる」を最速にします。
